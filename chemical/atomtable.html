<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì›ì†Œ ì£¼ê¸°ìœ¨í‘œ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            background: radial-gradient(1000px 600px at 20% 10%, #90a6ff22 0%, transparent 60%),
                        radial-gradient(900px 700px at 90% 20%, #ff7bd622 0%, transparent 60%),
                        linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 24px;
            color: #2d2d2d;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 18px;
            padding: 28px;
            box-shadow: 0 30px 80px rgba(0,0,0,0.25);
        }

        .title {
            display: flex;
            align-items: center;
            gap: 12px;
            justify-content: center;
            margin-bottom: 18px;
        }

        .title-icon {
            width: 40px; height: 40px;
            border-radius: 12px;
            background: linear-gradient(135deg, #7aa2ff, #a68cff);
            display: grid; place-items: center;
            color: white; font-weight: 900; font-size: 22px;
            box-shadow: 0 8px 24px rgba(118,75,162,0.35);
        }

        h1 { font-size: 28px; letter-spacing: 0.5px; }

        .toolbar {
            display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;
            margin: 14px 0 18px;
        }
        .input {
            padding: 10px 12px; border: 1px solid #e3e6ef; border-radius: 10px;
            min-width: 240px; outline: none;
            background: #fafbff; color: #333;
        }
        .input:focus { border-color: #8fa2ff; box-shadow: 0 0 0 3px #8fa2ff33; }

        .periodic-wrapper { width: 100%; overflow-x: auto; padding-bottom: 10px; }

        .periodic-table {
            display: grid;
            grid-template-columns: repeat(18, 82px);
            grid-auto-rows: 82px;
            gap: 5px;
            width: max-content;
            margin: 0 auto;
        }

        .element {
            position: relative;
            border-radius: 10px;
            border: 2px solid #e6e6e6;
            background: #ffffff;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            cursor: pointer; transition: transform .18s ease, box-shadow .18s ease;
            user-select: none;
        }
        .element:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0,0,0,0.18); z-index: 2; }

        .atomic-number { position: absolute; top: 4px; left: 6px; font-size: 11px; font-weight: 700; color: #4a4a4a; }
        .symbol { font-size: 22px; font-weight: 900; margin-top: 6px; }
        .name { font-size: 11px; color: #333; margin-top: 2px; text-align: center; }
        .atomic-mass { position: absolute; bottom: 4px; right: 6px; font-size: 10px; color: #5b5b5b; }

        /* type colors */
        .alkali { background: #ff6b6b; color: #fff; }
        .alkaline { background: #ffa07a; color: #fff; }
        .transition { background: #ffb6c1; }
        .metal { background: #b0c4de; }
        .metalloid { background: #daa520; }
        .nonmetal { background: #ffd700; }
        .halogen { background: #98fb98; }
        .noble-gas { background: #c0ffff; }
        .lanthanide { background: #ffcc99; }
        .actinide { background: #ffc0cb; }

        /* ghost cell for empty slots */
        .empty { background: repeating-linear-gradient(45deg, #f7f7f9, #f7f7f9 8px, #f0f2f6 8px, #f0f2f6 16px); border: 1px dashed #e6e8f0; }

        .legend { display: flex; flex-wrap: wrap; gap: 14px; justify-content: center; margin-top: 14px; }
        .legend-item { display: inline-flex; align-items: center; gap: 8px; font-size: 13px; color: #333; }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; border: 1px solid #d9dbe6; }

        .info-panel { margin-top: 18px; background: #f8faff; border: 1px solid #e4e8ff; border-radius: 12px; padding: 14px; display: none; }
        .info-panel.active { display: block; animation: fadeIn .25s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-4px);} to { opacity: 1; transform: translateY(0);} }

        .muted { color: #666; font-size: 12px; }
        .pill { padding: 2px 8px; border-radius: 999px; font-size: 11px; font-weight: 700; background: #eef1ff; color: #4a57d7; border: 1px solid #dfe5ff; }

        @media (max-width: 600px) {
            .periodic-table { grid-template-columns: repeat(18, 64px); grid-auto-rows: 64px; }
        }
        
        /* ë©”ë‰´ ìŠ¤íƒ€ì¼ */
        #menu-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            z-index: 1000;
        }
        
        #menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            z-index: 999;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }
        
        #menu-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 50px 20px 20px;
        }
        
        #menu-content h2 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
        }
        
        .menu-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .hashtag-link {
            display: inline-block;
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .hashtag-link:before {
            content: '#';
            margin-right: 5px;
            font-weight: bold;
        }
        
        .hashtag-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            background: linear-gradient(45deg, #764ba2 0%, #667eea 100%);
        }
        
        .close-menu {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 30px;
            cursor: pointer;
            z-index: 1001;
        }
        
        .game-categories {
            margin-top: 30px;
        }
        
        .category {
            margin-bottom: 25px;
        }
        
        .category h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 18px;
            text-align: left;
        }
    </style>
</head>
<body>
    <button id="menu-toggle">ë©”ë‰´</button>
    
    <div id="menu-overlay">
        <button class="close-menu" onclick="toggleMenu()">&times;</button>
        <div id="menu-content">
            <h2>ğŸ® ê²Œì„ ë©”ë‰´</h2>
            <div class="menu-grid">
                <a href="../index.html" class="hashtag-link">í™ˆìœ¼ë¡œ</a>
            </div>
            <div class="game-categories">
                <div class="category">
                    <h3>ğŸ§ª í™”í•™/ê³¼í•™</h3>
                    <div class="menu-grid">
                        <a href="atomtable.html" class="hashtag-link">ì›ì†Œì£¼ê¸°ìœ¨í‘œ</a>
                        <a href="atomtable_grok.html" class="hashtag-link">ì›ì†Œì£¼ê¸°ìœ¨í‘œê·¸ë¡</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="title">
            <div class="title-icon">âš›</div>
            <h1>ì›ì†Œ ì£¼ê¸°ìœ¨í‘œ</h1>
        </div>

        <div class="toolbar">
            <input id="search" class="input" type="text" placeholder="ì´ë¦„/ê¸°í˜¸/ë²ˆí˜¸ë¡œ ê²€ìƒ‰ (ì˜ˆ: H, ìˆ˜ì†Œ, 1)">
            <span class="muted">í´ë¦­í•˜ë©´ ìƒì„¸ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤.</span>
        </div>

        <div class="periodic-wrapper">
            <div id="periodicTable" class="periodic-table"></div>
        </div>

        <div id="infoPanel" class="info-panel">
            <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;">
                <h2 id="elementTitle" style="margin-right:auto;font-size:20px;">ì›ì†Œ ì •ë³´</h2>
                <span id="typePill" class="pill">-</span>
            </div>
            <div id="elementDetails" class="muted" style="margin-top:6px;"></div>
        </div>

        <div class="legend" id="legend"></div>
    </div>

    <script>
        // ES5 í˜¸í™˜ ì½”ë“œ. file:// ì—ì„œ ë™ì‘í•˜ë„ë¡ ì™¸ë¶€ ì˜ì¡´ì„± ì—†ìŒ
        var TYPE_NAMES = {
            'alkali': 'ì•Œì¹¼ë¦¬ ê¸ˆì†',
            'alkaline': 'ì•Œì¹¼ë¦¬ í† ê¸ˆì†',
            'transition': 'ì „ì´ ê¸ˆì†',
            'metal': 'ì „ì´í›„ ê¸ˆì†',
            'metalloid': 'ì¤€ê¸ˆì†',
            'nonmetal': 'ë¹„ê¸ˆì†',
            'halogen': 'í• ë¡œê²',
            'noble-gas': 'ë¹„í™œì„± ê¸°ì²´',
            'lanthanide': 'ë€íƒ€ë„˜ì¡±',
            'actinide': 'ì•…í‹°ëŠ„ì¡±'
        };

        // í•µì‹¬ ë°ì´í„°: í•„ìš”í•œ í•„ë“œë§Œ í¬í•¨ (ë²ˆí˜¸, ê¸°í˜¸, ì´ë¦„, ì§ˆëŸ‰, ìœ í˜•, ì¡±, ì£¼ê¸°)
        var ELEMENTS = [
            {num:1,symbol:'H',name:'ìˆ˜ì†Œ',mass:'1.008',type:'nonmetal',group:1,period:1,desc:'ê°€ì¥ ê°€ë²¼ìš´ ì›ì†Œ. ì—°ë£Œì „ì§€ ë° ìš°ì£¼ì—ì„œ í’ë¶€'},
            {num:2,symbol:'He',name:'í—¬ë¥¨',mass:'4.003',type:'noble-gas',group:18,period:1,desc:'ë¹„í™œì„± ê¸°ì²´, ê¸°êµ¬ì™€ ëƒ‰ê°ì¬ì— ì‚¬ìš©'},
            {num:3,symbol:'Li',name:'ë¦¬íŠ¬',mass:'6.941',type:'alkali',group:1,period:2,desc:'2ì°¨ì „ì§€ì˜ í•µì‹¬ ì›ì†Œ'},
            {num:4,symbol:'Be',name:'ë² ë¦´ë¥¨',mass:'9.012',type:'alkaline',group:2,period:2,desc:'ê°€ë³ê³  ë‹¨ë‹¨í•œ ê¸ˆì†'},
            {num:5,symbol:'B',name:'ë¶•ì†Œ',mass:'10.81',type:'metalloid',group:13,period:2,desc:'ì¤€ê¸ˆì†, ë‚´ì—´ ìœ ë¦¬'},
            {num:6,symbol:'C',name:'íƒ„ì†Œ',mass:'12.01',type:'nonmetal',group:14,period:2,desc:'ìƒëª…ì²´ì˜ ê·¼ê°„, ë‹¤ì´ì•„ëª¬ë“œ/í‘ì—°'},
            {num:7,symbol:'N',name:'ì§ˆì†Œ',mass:'14.01',type:'nonmetal',group:15,period:2,desc:'ëŒ€ê¸°ì˜ ì£¼ì„±ë¶„'},
            {num:8,symbol:'O',name:'ì‚°ì†Œ',mass:'16.00',type:'nonmetal',group:16,period:2,desc:'í˜¸í¡ê³¼ ì—°ì†Œì— í•„ìˆ˜'},
            {num:9,symbol:'F',name:'í”Œë£¨ì˜¤ë¦°',mass:'19.00',type:'halogen',group:17,period:2,desc:'ê°€ì¥ ë°˜ì‘ì„± ë†’ì€ ë¹„ê¸ˆì†'},
            {num:10,symbol:'Ne',name:'ë„¤ì˜¨',mass:'20.18',type:'noble-gas',group:18,period:2,desc:'ë„¤ì˜¨ì‚¬ì¸ ì¡°ëª…'},
            {num:11,symbol:'Na',name:'ë‚˜íŠ¸ë¥¨',mass:'22.99',type:'alkali',group:1,period:3,desc:'ì—¼(ì†Œê¸ˆ)ì˜ êµ¬ì„±'},
            {num:12,symbol:'Mg',name:'ë§ˆê·¸ë„¤ìŠ˜',mass:'24.31',type:'alkaline',group:2,period:3,desc:'ê°€ë³ê³  ê°•í•œ í•©ê¸ˆ'},
            {num:13,symbol:'Al',name:'ì•Œë£¨ë¯¸ëŠ„',mass:'26.98',type:'metal',group:13,period:3,desc:'ê°€ë³ê³  ë¶€ì‹ì— ê°•í•¨'},
            {num:14,symbol:'Si',name:'ê·œì†Œ',mass:'28.09',type:'metalloid',group:14,period:3,desc:'ë°˜ë„ì²´ í•µì‹¬'},
            {num:15,symbol:'P',name:'ì¸',mass:'30.97',type:'nonmetal',group:15,period:3,desc:'DNA/ATP êµ¬ì„±'},
            {num:16,symbol:'S',name:'í™©',mass:'32.07',type:'nonmetal',group:16,period:3,desc:'ë¹„ë£Œ/ê³ ë¬´ê°€í™©'},
            {num:17,symbol:'Cl',name:'ì—¼ì†Œ',mass:'35.45',type:'halogen',group:17,period:3,desc:'ì†Œë…ì œ'},
            {num:18,symbol:'Ar',name:'ì•„ë¥´ê³¤',mass:'39.95',type:'noble-gas',group:18,period:3,desc:'ë¹„í™œì„± ê¸°ì²´'},
            {num:19,symbol:'K',name:'ì¹¼ë¥¨',mass:'39.10',type:'alkali',group:1,period:4,desc:'ì„¸í¬ ê¸°ëŠ¥ì— ì¤‘ìš”'},
            {num:20,symbol:'Ca',name:'ì¹¼ìŠ˜',mass:'40.08',type:'alkaline',group:2,period:4,desc:'ë¼ˆ/ì¹˜ì•„ êµ¬ì„±'},
            // ì „ì´ê¸ˆì† ì¼ë¶€ ìƒ˜í”Œ + ê°€ì‹œì„± ìœ„í•´ ì£¼ìš” ì›ì†Œë§Œ ìš°ì„  ë°°ì¹˜
            {num:26,symbol:'Fe',name:'ì² ',mass:'55.85',type:'transition',group:8,period:4,desc:'êµ¬ì¡° ì¬ë£Œ í•µì‹¬'},
            {num:28,symbol:'Ni',name:'ë‹ˆì¼ˆ',mass:'58.69',type:'transition',group:10,period:4,desc:'í•©ê¸ˆ/ë°°í„°ë¦¬'},
            {num:29,symbol:'Cu',name:'êµ¬ë¦¬',mass:'63.55',type:'transition',group:11,period:4,desc:'ì „ë„ë„ ìš°ìˆ˜'},
            {num:30,symbol:'Zn',name:'ì•„ì—°',mass:'65.38',type:'transition',group:12,period:4,desc:'ë„ê¸ˆ'},
            {num:35,symbol:'Br',name:'ë¸Œë¡œë¯¼',mass:'79.90',type:'halogen',group:17,period:4,desc:'ìƒì˜¨ ì•¡ì²´ ë¹„ê¸ˆì†'},
            {num:36,symbol:'Kr',name:'í¬ë¦½í†¤',mass:'83.80',type:'noble-gas',group:18,period:4,desc:'ë¹„í™œì„± ê¸°ì²´'},
            {num:47,symbol:'Ag',name:'ì€',mass:'107.9',type:'transition',group:11,period:5,desc:'ì „ë„ë„ ìµœê³ '},
            {num:50,symbol:'Sn',name:'ì£¼ì„',mass:'118.7',type:'metal',group:14,period:5,desc:'ë‚©ë•œ'},
            {num:53,symbol:'I',name:'ì•„ì´ì˜¤ë”˜',mass:'126.9',type:'halogen',group:17,period:5,desc:'ê°‘ìƒì„  í˜¸ë¥´ëª¬'},
            {num:54,symbol:'Xe',name:'ì œë…¼',mass:'131.3',type:'noble-gas',group:18,period:5,desc:'ë¨í”„'},
            {num:55,symbol:'Cs',name:'ì„¸ìŠ˜',mass:'132.9',type:'alkali',group:1,period:6,desc:'ì›ìì‹œê³„'},
            {num:56,symbol:'Ba',name:'ë°”ë¥¨',mass:'137.3',type:'alkaline',group:2,period:6,desc:'ì¡°ì˜ì œ'},
            {num:79,symbol:'Au',name:'ê¸ˆ',mass:'197.0',type:'transition',group:11,period:6,desc:'ê·€ê¸ˆì†'},
            {num:80,symbol:'Hg',name:'ìˆ˜ì€',mass:'200.6',type:'transition',group:12,period:6,desc:'ìƒì˜¨ ì•¡ì²´ ê¸ˆì†'},
            {num:82,symbol:'Pb',name:'ë‚©',mass:'207.2',type:'metal',group:14,period:6,desc:'ë¬´ê±°ìš´ ê¸ˆì†'},
            {num:86,symbol:'Rn',name:'ë¼ëˆ',mass:'222',type:'noble-gas',group:18,period:6,desc:'ë°©ì‚¬ì„± ê¸°ì²´'},
            {num:92,symbol:'U',name:'ìš°ë¼ëŠ„',mass:'238.0',type:'actinide',group:3,period:7,desc:'í•µì—°ë£Œ'},
            {num:118,symbol:'Og',name:'ì˜¤ê°€ë„¤ì†',mass:'294',type:'noble-gas',group:18,period:7,desc:'ì¸ê³µ ì›ì†Œ'}
        ];

        // ë€íƒ€ë„˜/ì•…í‹°ëŠ„ì¡± ì¤„ ë°ì´í„°
        var LANTHANIDES = [
            {num:58,symbol:'Ce',name:'ì„¸ë¥¨',mass:'140.1',type:'lanthanide'},
            {num:59,symbol:'Pr',name:'í”„ë¼ì„¸ì˜¤ë””ë®´',mass:'140.9',type:'lanthanide'},
            {num:60,symbol:'Nd',name:'ë„¤ì˜¤ë””ë®´',mass:'144.2',type:'lanthanide'},
            {num:61,symbol:'Pm',name:'í”„ë¡œë©”íŠ¬',mass:'145',type:'lanthanide'},
            {num:62,symbol:'Sm',name:'ì‚¬ë§ˆë¥¨',mass:'150.4',type:'lanthanide'},
            {num:63,symbol:'Eu',name:'ìœ ë¡œí“¸',mass:'152.0',type:'lanthanide'},
            {num:64,symbol:'Gd',name:'ê°€ëŒë¦¬ëŠ„',mass:'157.3',type:'lanthanide'},
            {num:65,symbol:'Tb',name:'í„°ë¸€',mass:'158.9',type:'lanthanide'},
            {num:66,symbol:'Dy',name:'ë””ìŠ¤í”„ë¡œìŠ˜',mass:'162.5',type:'lanthanide'},
            {num:67,symbol:'Ho',name:'í™€ë®´',mass:'164.9',type:'lanthanide'},
            {num:68,symbol:'Er',name:'ì–´ë¸€',mass:'167.3',type:'lanthanide'},
            {num:69,symbol:'Tm',name:'íˆ´ë¥¨',mass:'168.9',type:'lanthanide'},
            {num:70,symbol:'Yb',name:'ì´í„°ë¸€',mass:'173.1',type:'lanthanide'},
            {num:71,symbol:'Lu',name:'ë£¨í…ŒíŠ¬',mass:'175.0',type:'lanthanide'}
        ];

        var ACTINIDES = [
            {num:90,symbol:'Th',name:'í† ë¥¨',mass:'232.0',type:'actinide'},
            {num:91,symbol:'Pa',name:'í”„ë¡œíŠ¸ì•…í‹°ëŠ„',mass:'231.0',type:'actinide'},
            {num:92,symbol:'U',name:'ìš°ë¼ëŠ„',mass:'238.0',type:'actinide'},
            {num:93,symbol:'Np',name:'ë„µíˆ¬ëŠ„',mass:'237',type:'actinide'},
            {num:94,symbol:'Pu',name:'í”Œë£¨í† ëŠ„',mass:'244',type:'actinide'},
            {num:95,symbol:'Am',name:'ì•„ë©”ë¦¬ìŠ˜',mass:'243',type:'actinide'},
            {num:96,symbol:'Cm',name:'í€´ë¥¨',mass:'247',type:'actinide'},
            {num:97,symbol:'Bk',name:'ë²„í´ë¥¨',mass:'247',type:'actinide'},
            {num:98,symbol:'Cf',name:'ìº˜ë¦¬í¬ëŠ„',mass:'251',type:'actinide'},
            {num:99,symbol:'Es',name:'ì•„ì¸ìŠˆíƒ€ì´ëŠ„',mass:'252',type:'actinide'},
            {num:100,symbol:'Fm',name:'í˜ë¥´ë®´',mass:'257',type:'actinide'},
            {num:101,symbol:'Md',name:'ë©˜ë¸ë ˆë¸€',mass:'258',type:'actinide'},
            {num:102,symbol:'No',name:'ë…¸ë²¨ë¥¨',mass:'259',type:'actinide'},
            {num:103,symbol:'Lr',name:'ë¡œë ŒìŠ˜',mass:'262',type:'actinide'}
        ];

        function renderLegend() {
            var legend = document.getElementById('legend');
            var order = ['alkali','alkaline','transition','metal','metalloid','nonmetal','halogen','noble-gas','lanthanide','actinide'];
            for (var i=0;i<order.length;i++){
                var t = order[i];
                var item = document.createElement('div');
                item.className = 'legend-item';
                var chip = document.createElement('div'); chip.className = 'legend-color ' + t; item.appendChild(chip);
                var span = document.createElement('span'); span.textContent = TYPE_NAMES[t]; item.appendChild(span);
                legend.appendChild(item);
            }
        }

        function createGrid() {
            var table = document.getElementById('periodicTable');
            if (!table) return;
            table.innerHTML = '';

            // 10í–‰ x 18ì—´ ê·¸ë¦¬ë“œ ìƒì„±
            var grid = [];
            var r,c; for (r=0;r<10;r++){ var row=[]; for(c=0;c<18;c++){ row.push(null);} grid.push(row); }

            // ë©”ì¸ ë°°ì¹˜
            for (var i=0;i<ELEMENTS.length;i++){
                var el = ELEMENTS[i];
                if (el.period<=7) grid[el.period-1][el.group-1] = el;
            }
            // ë€íƒ€ë„˜/ì•…í‹°ëŠ„ ë¼ì¸
            for (i=0;i<LANTHANIDES.length;i++){ grid[8][i+3] = LANTHANIDES[i]; }
            for (i=0;i<ACTINIDES.length;i++){ grid[9][i+3] = ACTINIDES[i]; }

            // ë Œë”
            for (r=0;r<10;r++){
                for(c=0;c<18;c++){
                    var cell = grid[r][c];
                    var div = document.createElement('div');
                    if (cell){
                        div.className = 'element ' + (cell.type || '');
                        div.innerHTML = ''+
                          '<div class="atomic-number">'+cell.num+'</div>'+
                          '<div class="symbol">'+cell.symbol+'</div>'+
                          '<div class="name">'+cell.name+'</div>'+
                          '<div class="atomic-mass">'+cell.mass+'</div>';
                        (function(data){
                            div.onclick = function(){ showInfo(data); };
                        })(cell);
                    } else {
                        div.className = 'element empty';
                    }
                    table.appendChild(div);
                }
            }
            var wrap = document.querySelector('.periodic-wrapper');
            if (wrap) wrap.scrollLeft = 0;
        }

        function showInfo(el){
            var panel = document.getElementById('infoPanel');
            var title = document.getElementById('elementTitle');
            var details = document.getElementById('elementDetails');
            var pill = document.getElementById('typePill');

            title.textContent = el.num + '. ' + el.name + ' (' + el.symbol + ')';
            details.innerHTML = ''+
                '<strong>ì›ì ì§ˆëŸ‰:</strong> ' + el.mass + '<br>'+
                '<strong>ë¶„ë¥˜:</strong> ' + (TYPE_NAMES[el.type] || el.type) + '<br>'+
                (el.desc ? '<strong>íŠ¹ì§•:</strong> ' + el.desc : '');
            pill.textContent = TYPE_NAMES[el.type] || '-';
            panel.className = 'info-panel active';
        }

        function filterElements(query){
            var q = (query||'').toLowerCase().trim();
            var cells = document.getElementsByClassName('element');
            if (!q){ for (var i=0;i<cells.length;i++){ cells[i].style.outline=''; cells[i].style.opacity=''; } return; }

            for (var i=0;i<cells.length;i++){ cells[i].style.outline=''; cells[i].style.opacity='0.25'; }
            // ê°„ë‹¨ ê²€ìƒ‰: ê¸°í˜¸/ì´ë¦„/ë²ˆí˜¸ í¬í•¨
            var table = document.getElementById('periodicTable');
            var children = table.children;
            for (i=0;i<children.length;i++){
                var div = children[i];
                if (div.className.indexOf('empty')>-1) continue;
                var num = div.querySelector('.atomic-number');
                var sym = div.querySelector('.symbol');
                var name = div.querySelector('.name');
                var hay = (num.textContent+' '+sym.textContent+' '+name.textContent).toLowerCase();
                if (hay.indexOf(q)>-1){ div.style.outline='3px solid #5a6bff'; div.style.opacity='1'; }
            }
        }

        function boot(){
            renderLegend();
            createGrid();
            var search = document.getElementById('search');
            if (search){
                search.addEventListener('input', function(){ filterElements(search.value); });
            }
        }

        if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', boot); else boot();
        
        // ë©”ë‰´ í† ê¸€ í•¨ìˆ˜
        function toggleMenu() {
            const overlay = document.getElementById('menu-overlay');
            if (overlay.style.display === 'none' || overlay.style.display === '') {
                overlay.style.display = 'block';
                document.body.style.overflow = 'hidden';
            } else {
                overlay.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }
        
        document.getElementById('menu-toggle').addEventListener('click', toggleMenu);
        
        // ESC í‚¤ë¡œ ë©”ë‰´ ë‹«ê¸°
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.getElementById('menu-overlay').style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });
    </script>
</body>
</html>

