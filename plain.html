<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D ë³µì—½ê¸° ê²Œì„</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: linear-gradient(to bottom, #87CEEB, #98FB98);
            font-family: Arial, sans-serif;
        
            padding-top: 80px;
        }
        #gameContainer {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        #ui {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            z-index: 100;
            font-size: 18px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }
        #controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            color: white;
            z-index: 100;
            font-size: 14px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }
        #startScreen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 200;
            font-size: 24px;
        }
        button {
            padding: 15px 30px;
            font-size: 18px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
        }
        button:hover {
            background: #45a049;
        }
            
        .hashtag-menu {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            padding: 15px;
            z-index: 1000;
            text-align: center;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .hashtag-item {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            margin: 4px 6px;
            border-radius: 20px;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .hashtag-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4c93 100%);
        }
        
        .hashtag-item.current {
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa500 100%);
        }
        
        .hashtag-category {
            display: inline-block;
            margin: 0 10px;
        }
        
        .category-title {
            color: #ccc;
            font-size: 12px;
            margin-right: 5px;
        }
            
        /* í•´ì‹œíƒœê·¸ ë©”ë‰´ ìŠ¤íƒ€ì¼ */
        .hashtag-menu {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            padding: 15px;
            z-index: 1000;
            text-align: center;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .hashtag-item {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            margin: 4px 6px;
            border-radius: 20px;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .hashtag-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4c93 100%);
        }
        
        .hashtag-item.current {
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa500 100%);
        }
        
        .hashtag-category {
            display: inline-block;
            margin: 0 10px;
        }
        
        .category-title {
            color: #ccc;
            font-size: 12px;
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <!-- í•´ì‹œíƒœê·¸ ë©”ë‰´ -->
    <div class="hashtag-menu">
        <div class="hashtag-category">
            <span class="category-title">ğŸ® ì•¡ì…˜</span>
            <a href="index.html" class="hashtag-item">#3DìŠˆíŒ…</a>
            <a href="def1.html" class="hashtag-item">#ì„±ë°©ì–´</a>
            <a href="bomb.html" class="hashtag-item">#í­íƒ„ê²Œì„</a>
            <a href="bomb2.html" class="hashtag-item">#í­íƒ„2</a>
            <a href="arrow1.html" class="hashtag-item">#í™”ì‚´ì˜ê¸°</a>
            <a href="tire1.html" class="hashtag-item">#íƒ€ì´ì–´êµ´ë¦¬ê¸°</a>
        </div>
        <div class="hashtag-category">
            <span class="category-title">ğŸš€ ì‹œë®¬ë ˆì´ì…˜</span>
            <a href="game1.html" class="hashtag-item">#ë¡œì¼“ì°©ë¥™</a>
            <a href="tank1.html" class="hashtag-item">#íƒ±í¬ì „íˆ¬</a>
            <a href="tank2.html" class="hashtag-item">#íƒ±í¬ì „íˆ¬2</a>
            <a href="tank3.html" class="hashtag-item">#íƒ±í¬ì „íˆ¬3</a>
            <a href="tank5.html" class="hashtag-item">#íƒ±í¬ì „íˆ¬5</a>
            <a href="spacex.html" class="hashtag-item">#ìŠ¤í˜ì´ìŠ¤X</a>
            <a href="rocket1.html" class="hashtag-item">#ë¡œì¼“1</a>
            <a href="rocket2.html" class="hashtag-item">#ë¡œì¼“2</a>
            <a href="plain.html" class="hashtag-item current">#ë³µì—½ê¸°</a>
            <a href="formula1.html" class="hashtag-item">#F1ë ˆì´ì‹±</a>
        </div>
        <div class="hashtag-category">
            <span class="category-title">ğŸ§© í¼ì¦</span>
            <a href="sliding-puzzle.html" class="hashtag-item">#ìŠ¬ë¼ì´ë”©í¼ì¦</a>
            <a href="1to100.html" class="hashtag-item">#1to100</a>
            <a href="numbermove.html" class="hashtag-item">#ìˆ«ìì´ë™</a>
        </div>
        <div class="hashtag-category">
            <span class="category-title">âš¾ ìŠ¤í¬ì¸ </span>
            <a href="baseball.html" class="hashtag-item">#ì•¼êµ¬ê²Œì„</a>
            <a href="bowl.html" class="hashtag-item">#ë³¼ë§</a>
            <a href="bowl2.html" class="hashtag-item">#ë¸”ëŸ­ë¹Œë”©</a>
            <a href="bowl3.html" class="hashtag-item">#í…ŒíŠ¸ë¦¬ìŠ¤</a>
            <a href="bowl4.html" class="hashtag-item">#ì•µê·¸ë¦¬ë²„ë“œ</a>
            <a href="bowl5.html" class="hashtag-item">#ì•µê·¸ë¦¬ë²„ë“œ2</a>
            <a href="bowlike.html" class="hashtag-item">#ë³¼ë§ê²Œì„</a>
            <a href="jump1.html" class="hashtag-item">#êµ¬ë¦„ì í”„</a>
            <a href="run1.html" class="hashtag-item">#í—ˆë“¤ë‹¬ë¦¬ê¸°</a>
            <a href="run2.html" class="hashtag-item">#ë§í—ˆë“¤</a>
        </div>
        <div class="hashtag-category">
            <span class="category-title">ğŸš— ë“œë¼ì´ë¹™</span>
            <a href="parking1.html" class="hashtag-item">#ì£¼ì°¨ê²Œì„1</a>
            <a href="parking2.html" class="hashtag-item">#ì£¼ì°¨ê²Œì„2</a>
            <a href="parking3.html" class="hashtag-item">#ë ˆì´ì‹±ê²Œì„</a>
        </div>
        <div class="hashtag-category">
            <span class="category-title">ğŸ—ºï¸ RPG</span>
            <a href="open1.html" class="hashtag-item">#ì˜¤í”ˆì›”ë“œ</a>
            <a href="open2.html" class="hashtag-item">#íƒ±í¬ë””íœìŠ¤</a>
            <a href="open3.html" class="hashtag-item">#íƒ±í¬ì „íˆ¬RPG</a>
            <a href="open3d1.html" class="hashtag-item">#ìˆ²ì†íƒí—˜</a>
        </div>
        <div class="hashtag-category">
            <span class="category-title">ğŸ“ ìƒì‚°ì„±</span>
            <a href="JBTODO_V3.html" class="hashtag-item">#TODO_V3</a>
            <a href="JBTODO_V2.html" class="hashtag-item">#TODO_V2</a>
            <a href="JBTODO_V1.html" class="hashtag-item">#TODO_V1</a>
            <a href="webfiddler.html" class="hashtag-item">#ì›¹ë¶„ì„ë„êµ¬</a>
            <a href="websiteanal.html" class="hashtag-item">#ë³´ì•ˆí—¤ë”</a>
            <a href="gitstudy1.html" class="hashtag-item">#Gití•™ìŠµ</a>
        </div>
    </div>
    
    <div class="hashtag-category">
            <span class="category-title">ğŸš€ ì‹œë®¬ë ˆì´ì…˜</span>
            <a href="game1.html" class="hashtag-item">#ë¡œì¼“</a>
            <a href="tank1.html" class="hashtag-item">#íƒ±í¬</a>
            <a href="tank3.html" class="hashtag-item">#íƒ±í¬3</a>
            <a href="spacex.html" class="hashtag-item">#ìŠ¤í˜ì´ìŠ¤X</a>
        </div>
        <div class="hashtag-category">
            <span class="category-title">ğŸ§© í¼ì¦</span>
            <a href="sliding-puzzle.html" class="hashtag-item">#ìŠ¬ë¼ì´ë”©</a>
            <a href="1to100.html" class="hashtag-item">#1to100</a>
            <a href="numbermove.html" class="hashtag-item">#ìˆ«ìì´ë™</a>
        </div>
        <div class="hashtag-category">
            <span class="category-title">âš¾ ìŠ¤í¬ì¸ </span>
            <a href="baseball.html" class="hashtag-item">#ì•¼êµ¬</a>
            <a href="bowl.html" class="hashtag-item">#ë³¼ë§</a>
            <a href="jump1.html" class="hashtag-item">#ì í”„</a>
        </div>
        <div class="hashtag-category">
            <span class="category-title">ğŸš— ë“œë¼ì´ë¹™</span>
            <a href="parking1.html" class="hashtag-item">#ì£¼ì°¨1</a>
            <a href="parking2.html" class="hashtag-item">#ì£¼ì°¨2</a>
            <a href="parking3.html" class="hashtag-item">#ì£¼ì°¨3</a>
        </div>
        <div class="hashtag-category">
            <span class="category-title">ğŸ“ ìƒì‚°ì„±</span>
            <a href="JBTODO_V3.html" class="hashtag-item">#TODO</a>
            <a href="webfiddler.html" class="hashtag-item">#ì›¹ë„êµ¬</a>
        </div>
    </div>
    
    <div id="gameContainer">
        <div id="startScreen">
            <h1>âœˆï¸ ë¹„í–‰ê¸° ê²Œì„</h1>
            <p>ììœ ë¡­ê²Œ í•˜ëŠ˜ì„ ë‚ ì•„ë³´ì„¸ìš”!</p>
            <button onclick="startGame()">ê²Œì„ ì‹œì‘</button>
        </div>
        
        <div id="ui">
            <div>ê³ ë„: <span id="altitude">0</span>m</div>
            <div>ì†ë„: <span id="speed">0</span> km/h</div>

            <div>ì²´ë ¥: <span id="health">100</span>%</div>
        </div>
        
        <div id="controls">
            <div>ì¡°ì‘ë²•:</div>
            <div>WASD: ë¹„í–‰ê¸° ì¡°ì¢…</div>
            <div>ìŠ¤í˜ì´ìŠ¤ë°”: ì´ì•Œ ë°œì‚¬</div>
            <div>ë§ˆìš°ìŠ¤: ì¹´ë©”ë¼ íšŒì „</div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // ê²Œì„ ë³€ìˆ˜ë“¤
        let scene, camera, renderer, plane, bullets = [], terrain;
        let gameStarted = false;
        let health = 100;
        let planeSpeed = 0;
        let altitude = 0;
        
        // í‚¤ ì…ë ¥ ìƒíƒœ
        let keys = {};
        let mouseX = 0, mouseY = 0;
        
        // ê²Œì„ ì„¤ì •
        const WORLD_SIZE = 2000;
        const RUNWAY_LENGTH = 200;
        
        function startGame() {
            document.getElementById('startScreen').style.display = 'none';
            gameStarted = true;
            init();
            animate();
        }
        
        function init() {
            // ì”¬ ìƒì„±
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog(0x87CEEB, 500, 2000);
            
            // ì¹´ë©”ë¼ ì„¤ì • (3ì¸ì¹­ ì‹œì )
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 3000);
            
            // ë Œë”ëŸ¬ ì„¤ì •
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x87CEEB);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            document.getElementById('gameContainer').appendChild(renderer.domElement);
            
            // ì¡°ëª… ì„¤ì •
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(100, 200, 100);
            directionalLight.castShadow = true;
            directionalLight.shadow.mapSize.width = 2048;
            directionalLight.shadow.mapSize.height = 2048;
            scene.add(directionalLight);
            
            // ì§€í˜• ìƒì„±
            createTerrain();
            
            // ì£¼ì¸ê³µ ë¹„í–‰ê¸° ìƒì„± (ë³µì—½ê¸°)
            createPlayerPlane();
            
            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            document.addEventListener('keydown', onKeyDown);
            document.addEventListener('keyup', onKeyUp);
            document.addEventListener('mousemove', onMouseMove);
            
            // ìœˆë„ìš° ë¦¬ì‚¬ì´ì¦ˆ ëŒ€ì‘
            window.addEventListener('resize', onWindowResize);
        }
        
        function createTerrain() {
            // ì§€ë©´ ìƒì„±
            const groundGeometry = new THREE.PlaneGeometry(WORLD_SIZE, WORLD_SIZE, 50, 50);
            const groundMaterial = new THREE.MeshLambertMaterial({ color: 0x90EE90 });
            const ground = new THREE.Mesh(groundGeometry, groundMaterial);
            ground.rotation.x = -Math.PI / 2;
            ground.receiveShadow = true;
            scene.add(ground);
            
            // í™œì£¼ë¡œ ìƒì„±
            const runwayGeometry = new THREE.PlaneGeometry(RUNWAY_LENGTH, 20);
            const runwayMaterial = new THREE.MeshLambertMaterial({ color: 0x404040 });
            const runway = new THREE.Mesh(runwayGeometry, runwayMaterial);
            runway.rotation.x = -Math.PI / 2;
            runway.position.y = 0.1;
            scene.add(runway);
            
            // í™œì£¼ë¡œ ì¤‘ì•™ì„ 
            const lineGeometry = new THREE.PlaneGeometry(RUNWAY_LENGTH, 2);
            const lineMaterial = new THREE.MeshLambertMaterial({ color: 0xFFFFFF });
            const centerLine = new THREE.Mesh(lineGeometry, lineMaterial);
            centerLine.rotation.x = -Math.PI / 2;
            centerLine.position.y = 0.2;
            scene.add(centerLine);
            
            // ê±´ë¬¼ë“¤ ìƒì„±
            for(let i = 0; i < 15; i++) {
                createBuilding();
            }
            
            // ë‚˜ë¬´ë“¤ ìƒì„±
            for(let i = 0; i < 30; i++) {
                createTree();
            }
            
            // í˜¸ìˆ˜ ìƒì„±
            createLake();
            
            // í•˜ì²œ ìƒì„±
            createRiver();
        }
        
        function createBuilding() {
            const width = Math.random() * 30 + 20;
            const height = Math.random() * 80 + 40;
            const depth = Math.random() * 30 + 20;
            
            const buildingGeometry = new THREE.BoxGeometry(width, height, depth);
            const buildingMaterial = new THREE.MeshLambertMaterial({ 
                color: new THREE.Color().setHSL(Math.random() * 0.1, 0.5, 0.7) 
            });
            const building = new THREE.Mesh(buildingGeometry, buildingMaterial);
            
            building.position.x = (Math.random() - 0.5) * WORLD_SIZE * 0.8;
            building.position.y = height / 2;
            building.position.z = (Math.random() - 0.5) * WORLD_SIZE * 0.8;
            
            // í™œì£¼ë¡œì™€ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡
            if(Math.abs(building.position.x) < RUNWAY_LENGTH/2 && Math.abs(building.position.z) < 50) {
                building.position.x += RUNWAY_LENGTH;
            }
            
            building.castShadow = true;
            building.receiveShadow = true;
            scene.add(building);
        }
        
        function createTree() {
            // ë‚˜ë¬´ ì¤„ê¸°
            const trunkGeometry = new THREE.CylinderGeometry(2, 3, 15);
            const trunkMaterial = new THREE.MeshLambertMaterial({ color: 0x8B4513 });
            const trunk = new THREE.Mesh(trunkGeometry, trunkMaterial);
            
            // ë‚˜ë¬´ ì
            const leavesGeometry = new THREE.SphereGeometry(8);
            const leavesMaterial = new THREE.MeshLambertMaterial({ color: 0x228B22 });
            const leaves = new THREE.Mesh(leavesGeometry, leavesMaterial);
            leaves.position.y = 15;
            
            const tree = new THREE.Group();
            tree.add(trunk);
            tree.add(leaves);
            
            tree.position.x = (Math.random() - 0.5) * WORLD_SIZE * 0.9;
            tree.position.y = 7.5;
            tree.position.z = (Math.random() - 0.5) * WORLD_SIZE * 0.9;
            
            // í™œì£¼ë¡œì™€ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡
            if(Math.abs(tree.position.x) < RUNWAY_LENGTH/2 && Math.abs(tree.position.z) < 50) {
                tree.position.x += RUNWAY_LENGTH;
            }
            
            trunk.castShadow = true;
            leaves.castShadow = true;
            scene.add(tree);
        }
        
        function createLake() {
            const lakeGeometry = new THREE.CircleGeometry(100, 32);
            const lakeMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x4169E1,
                transparent: true,
                opacity: 0.8
            });
            const lake = new THREE.Mesh(lakeGeometry, lakeMaterial);
            lake.rotation.x = -Math.PI / 2;
            lake.position.set(300, 0.5, 300);
            scene.add(lake);
        }
        
        function createRiver() {
            const riverGeometry = new THREE.PlaneGeometry(800, 30);
            const riverMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x4169E1,
                transparent: true,
                opacity: 0.7
            });
            const river = new THREE.Mesh(riverGeometry, riverMaterial);
            river.rotation.x = -Math.PI / 2;
            river.rotation.z = Math.PI / 4;
            river.position.set(-200, 0.5, -200);
            scene.add(river);
        }
        
        function createPlayerPlane() {
            // ê°„ë‹¨í•œ ì§ì‚¬ê°í˜• ë¹„í–‰ê¸°
            const planeGeometry = new THREE.BoxGeometry(20, 2, 8);
            const planeMaterial = new THREE.MeshLambertMaterial({ color: 0x8B0000 });
            plane = new THREE.Mesh(planeGeometry, planeMaterial);
            
            plane.position.set(0, 2, -RUNWAY_LENGTH/2);
            plane.castShadow = true;
            scene.add(plane);
        }
        

        
        function onKeyDown(event) {
            keys[event.code] = true;
            
            if(event.code === 'Space') {
                event.preventDefault();
                shoot();
            }
        }
        
        function onKeyUp(event) {
            keys[event.code] = false;
        }
        
        function onMouseMove(event) {
            mouseX = (event.clientX / window.innerWidth) * 2 - 1;
            mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
        }
        
        function shoot() {
            if(!plane) return;
            
            const bullet = new THREE.Mesh(
                new THREE.SphereGeometry(0.2),
                new THREE.MeshLambertMaterial({ color: 0xFFFF00 })
            );
            
            bullet.position.copy(plane.position);
            bullet.position.x += 12; // ë¹„í–‰ê¸° ì•ìª½ì—ì„œ ë°œì‚¬
            
            const direction = new THREE.Vector3(1, 0, 0);
            direction.applyQuaternion(plane.quaternion);
            
            bullet.userData = {
                velocity: direction.multiplyScalar(10),
                life: 100
            };
            
            bullets.push(bullet);
            scene.add(bullet);
        }
        
        function updatePlane() {
            if(!plane) return;
            
            let thrust = 0;
            let pitch = 0;
            let yaw = 0;
            let roll = 0;
            
            // í‚¤ë³´ë“œ ì…ë ¥ ì²˜ë¦¬
            if(keys['KeyW'] || keys['ArrowUp']) thrust = 1;
            if(keys['KeyS'] || keys['ArrowDown']) thrust = -0.5;
            if(keys['KeyA'] || keys['ArrowLeft']) yaw = 0.02;
            if(keys['KeyD'] || keys['ArrowRight']) yaw = -0.02;
            if(keys['KeyQ']) pitch = 0.02;
            if(keys['KeyE']) pitch = -0.02;
            
            // ë§ˆìš°ìŠ¤ ì…ë ¥ìœ¼ë¡œ ì¶”ê°€ ì¡°ì¢…
            yaw += mouseX * 0.01;
            pitch += mouseY * 0.01;
            
            // ì†ë„ ê³„ì‚°
            planeSpeed += thrust * 0.5;
            planeSpeed = Math.max(0, Math.min(planeSpeed, 8));
            
            // ìµœì†Œ ì†ë„ ìœ ì§€ (ì‹¤ì† ë°©ì§€)
            if(planeSpeed < 2 && plane.position.y > 5) {
                planeSpeed = 2;
            }
            
            // ë¹„í–‰ê¸° íšŒì „
            plane.rotation.y += yaw;
            plane.rotation.x += pitch;
            plane.rotation.z += roll - yaw * 2; // ë±…í‚¹
            
            // íšŒì „ ì œí•œ
            plane.rotation.x = Math.max(-Math.PI/3, Math.min(Math.PI/3, plane.rotation.x));
            plane.rotation.z = Math.max(-Math.PI/4, Math.min(Math.PI/4, plane.rotation.z));
            
            // ì´ë™
            const forward = new THREE.Vector3(1, 0, 0);
            forward.applyQuaternion(plane.quaternion);
            forward.multiplyScalar(planeSpeed);
            
            plane.position.add(forward);
            
            // ì¤‘ë ¥ê³¼ ì–‘ë ¥
            const lift = planeSpeed * 0.3;
            const gravity = 0.1;
            plane.position.y += (lift - gravity) * Math.cos(plane.rotation.x);
            
            // ì§€ë©´ ì¶©ëŒ ê²€ì‚¬
            if(plane.position.y < 2) {
                plane.position.y = 2;
                planeSpeed *= 0.8; // ë§ˆì°°
            }
            
            // ê³ ë„ì™€ ì†ë„ ì—…ë°ì´íŠ¸
            altitude = Math.max(0, plane.position.y - 2);
            
            // ì¹´ë©”ë¼ ìœ„ì¹˜ ì—…ë°ì´íŠ¸ (3ì¸ì¹­ ì‹œì )
            const cameraDistance = 50;
            const cameraHeight = 20;
            const behind = new THREE.Vector3(-1, 0, 0);
            behind.applyQuaternion(plane.quaternion);
            behind.multiplyScalar(cameraDistance);
            
            camera.position.copy(plane.position);
            camera.position.add(behind);
            camera.position.y += cameraHeight;
            camera.lookAt(plane.position);
        }
        

        
        function updateBullets() {
            bullets.forEach((bullet, bulletIndex) => {
                if(!bullet.parent) return;
                
                bullet.position.add(bullet.userData.velocity);
                bullet.userData.life--;
                
                // ì´ì•Œ ìƒëª…ì£¼ê¸° ë
                if(bullet.userData.life <= 0) {
                    scene.remove(bullet);
                    bullets.splice(bulletIndex, 1);
                    return;
                }
            });
        }
        

        
        function updateUI() {
            document.getElementById('altitude').textContent = Math.round(altitude);
            document.getElementById('speed').textContent = Math.round(planeSpeed * 50);
            document.getElementById('health').textContent = health;
        }
        
        function animate() {
            if(!gameStarted) return;
            
            requestAnimationFrame(animate);
            
            updatePlane();
            updateBullets();
            updateUI();
            
            renderer.render(scene, camera);
        }
        
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }
    </script>
</body>
</html>
